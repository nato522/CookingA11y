{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { createRef, Component } from 'react';\nimport styled from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { Keyboard } from '../Keyboard';\nimport { backgroundIsDark } from '../../utils';\nimport { StyledLayer, StyledContainer, StyledOverlay } from './StyledLayer';\nvar HiddenAnchor = styled.a.withConfig({\n  displayName: \"LayerContainer__HiddenAnchor\",\n  componentId: \"sc-1srj14c-0\"\n})([\"width:0;height:0;overflow:hidden;position:absolute;\"]);\n\nvar LayerContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LayerContainer, _Component);\n\n  function LayerContainer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"anchorRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"layerRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"makeLayerVisible\", function () {\n      var node = _this.layerRef.current || _this.containerRef.current;\n\n      if (node && node.scrollIntoView) {\n        node.scrollIntoView();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = LayerContainer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var position = this.props.position;\n\n    if (position !== 'hidden') {\n      this.makeLayerVisible(); // Once layer is open we make sure it has focus so that you\n      // can start tabbing inside the layer. If the caller put focus\n      // on an element already, we honor that. Otherwise, we put\n      // the focus in the hidden anchor.\n\n      var element = document.activeElement;\n\n      while (element) {\n        if (element === this.containerRef.current) {\n          // already have focus inside the container\n          break;\n        }\n\n        element = element.parentElement;\n      }\n\n      if (!element && this.anchorRef.current) {\n        this.anchorRef.current.focus();\n      }\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var position = this.props.position;\n\n    if (prevProps.position !== position && position !== 'hidden') {\n      this.makeLayerVisible();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        id = _this$props.id,\n        modal = _this$props.modal,\n        onClickOutside = _this$props.onClickOutside,\n        onEsc = _this$props.onEsc,\n        plain = _this$props.plain,\n        position = _this$props.position,\n        responsive = _this$props.responsive,\n        propsTheme = _this$props.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"id\", \"modal\", \"onClickOutside\", \"onEsc\", \"plain\", \"position\", \"responsive\", \"theme\"]);\n\n    var theme = this.context || propsTheme;\n    var content = React.createElement(StyledContainer, _extends({\n      id: id\n    }, rest, {\n      position: position,\n      plain: plain,\n      responsive: responsive,\n      ref: this.containerRef\n    }), React.createElement(HiddenAnchor, {\n      ref: this.anchorRef,\n      tabIndex: \"-1\",\n      \"aria-hidden\": \"true\"\n    }), children);\n\n    if (modal) {\n      content = React.createElement(StyledLayer, {\n        id: id,\n        plain: plain,\n        position: position,\n        responsive: responsive,\n        tabIndex: \"-1\",\n        ref: this.layerRef\n      }, React.createElement(StyledOverlay, {\n        plain: plain,\n        onMouseDown: onClickOutside,\n        responsive: responsive\n      }), content);\n      /* eslint-enable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */\n    }\n\n    if (onEsc) {\n      content = React.createElement(Keyboard, {\n        onEsc: onEsc\n      }, content);\n    }\n\n    if (theme.layer.background) {\n      var dark = backgroundIsDark(theme.layer.background, theme);\n\n      if (dark !== undefined && dark !== theme.dark) {\n        content = React.createElement(ThemeContext.Provider, {\n          value: _extends({}, theme, {\n            dark: dark\n          })\n        }, content);\n      }\n    }\n\n    if (modal) {\n      content = React.createElement(FocusedContainer, {\n        hidden: position === 'hidden',\n        restrictScroll: true\n      }, content);\n    }\n\n    return content;\n  };\n\n  return LayerContainer;\n}(Component);\n\n_defineProperty(LayerContainer, \"contextType\", ThemeContext);\n\n_defineProperty(LayerContainer, \"defaultProps\", {\n  full: false,\n  margin: 'none',\n  modal: true,\n  position: 'center'\n});\n\nObject.setPrototypeOf(LayerContainer.defaultProps, defaultProps);\nexport { LayerContainer };","map":{"version":3,"sources":["C:/Users/ruxan/OneDrive/Desktop/UPM/Website/go_bananas/node_modules/grommet/es6/components/Layer/LayerContainer.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","createRef","Component","styled","defaultProps","ThemeContext","FocusedContainer","Keyboard","backgroundIsDark","StyledLayer","StyledContainer","StyledOverlay","HiddenAnchor","a","withConfig","displayName","componentId","LayerContainer","_Component","_this","_len","args","Array","_key","concat","node","layerRef","current","containerRef","scrollIntoView","_proto","componentDidMount","position","props","makeLayerVisible","element","document","activeElement","parentElement","anchorRef","focus","componentDidUpdate","prevProps","render","_this$props","children","id","modal","onClickOutside","onEsc","plain","responsive","propsTheme","theme","rest","context","content","createElement","ref","tabIndex","onMouseDown","layer","background","dark","undefined","Provider","hidden","restrictScroll","full","margin","setPrototypeOf"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { createRef, Component } from 'react';\nimport styled from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { Keyboard } from '../Keyboard';\nimport { backgroundIsDark } from '../../utils';\nimport { StyledLayer, StyledContainer, StyledOverlay } from './StyledLayer';\nvar HiddenAnchor = styled.a.withConfig({\n  displayName: \"LayerContainer__HiddenAnchor\",\n  componentId: \"sc-1srj14c-0\"\n})([\"width:0;height:0;overflow:hidden;position:absolute;\"]);\n\nvar LayerContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LayerContainer, _Component);\n\n  function LayerContainer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"anchorRef\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"layerRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"makeLayerVisible\", function () {\n      var node = _this.layerRef.current || _this.containerRef.current;\n\n      if (node && node.scrollIntoView) {\n        node.scrollIntoView();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = LayerContainer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var position = this.props.position;\n\n    if (position !== 'hidden') {\n      this.makeLayerVisible(); // Once layer is open we make sure it has focus so that you\n      // can start tabbing inside the layer. If the caller put focus\n      // on an element already, we honor that. Otherwise, we put\n      // the focus in the hidden anchor.\n\n      var element = document.activeElement;\n\n      while (element) {\n        if (element === this.containerRef.current) {\n          // already have focus inside the container\n          break;\n        }\n\n        element = element.parentElement;\n      }\n\n      if (!element && this.anchorRef.current) {\n        this.anchorRef.current.focus();\n      }\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var position = this.props.position;\n\n    if (prevProps.position !== position && position !== 'hidden') {\n      this.makeLayerVisible();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        id = _this$props.id,\n        modal = _this$props.modal,\n        onClickOutside = _this$props.onClickOutside,\n        onEsc = _this$props.onEsc,\n        plain = _this$props.plain,\n        position = _this$props.position,\n        responsive = _this$props.responsive,\n        propsTheme = _this$props.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"id\", \"modal\", \"onClickOutside\", \"onEsc\", \"plain\", \"position\", \"responsive\", \"theme\"]);\n\n    var theme = this.context || propsTheme;\n    var content = React.createElement(StyledContainer, _extends({\n      id: id\n    }, rest, {\n      position: position,\n      plain: plain,\n      responsive: responsive,\n      ref: this.containerRef\n    }), React.createElement(HiddenAnchor, {\n      ref: this.anchorRef,\n      tabIndex: \"-1\",\n      \"aria-hidden\": \"true\"\n    }), children);\n\n    if (modal) {\n      content = React.createElement(StyledLayer, {\n        id: id,\n        plain: plain,\n        position: position,\n        responsive: responsive,\n        tabIndex: \"-1\",\n        ref: this.layerRef\n      }, React.createElement(StyledOverlay, {\n        plain: plain,\n        onMouseDown: onClickOutside,\n        responsive: responsive\n      }), content);\n      /* eslint-enable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */\n    }\n\n    if (onEsc) {\n      content = React.createElement(Keyboard, {\n        onEsc: onEsc\n      }, content);\n    }\n\n    if (theme.layer.background) {\n      var dark = backgroundIsDark(theme.layer.background, theme);\n\n      if (dark !== undefined && dark !== theme.dark) {\n        content = React.createElement(ThemeContext.Provider, {\n          value: _extends({}, theme, {\n            dark: dark\n          })\n        }, content);\n      }\n    }\n\n    if (modal) {\n      content = React.createElement(FocusedContainer, {\n        hidden: position === 'hidden',\n        restrictScroll: true\n      }, content);\n    }\n\n    return content;\n  };\n\n  return LayerContainer;\n}(Component);\n\n_defineProperty(LayerContainer, \"contextType\", ThemeContext);\n\n_defineProperty(LayerContainer, \"defaultProps\", {\n  full: false,\n  margin: 'none',\n  modal: true,\n  position: 'center'\n});\n\nObject.setPrototypeOf(LayerContainer.defaultProps, defaultProps);\nexport { LayerContainer };"]},"metadata":{},"sourceType":"module"}