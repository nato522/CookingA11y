{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { isValidElement, useState, useRef, useEffect } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { TextInput } from '../TextInput';\nimport { withForwardRef } from '../hocs';\nimport { SelectContainer } from './SelectContainer';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:pointer;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.plain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\n\nvar Select = function Select(props) {\n  var a11yTitle = props.a11yTitle,\n      alignSelf = props.alignSelf,\n      children = props.children,\n      closeOnChange = props.closeOnChange,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      forwardRef = props.forwardRef,\n      gridArea = props.gridArea,\n      id = props.id,\n      icon = props.icon,\n      labelKey = props.labelKey,\n      margin = props.margin,\n      messages = props.messages,\n      onChange = props.onChange,\n      onClose = props.onClose,\n      onMore = props.onMore,\n      onOpen = props.onOpen,\n      propOpen = props.open,\n      options = props.options,\n      placeholder = props.placeholder,\n      plain = props.plain,\n      selected = props.selected,\n      size = props.size,\n      theme = props.theme,\n      value = props.value,\n      valueLabel = props.valueLabel,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"dropAlign\", \"dropProps\", \"dropTarget\", \"forwardRef\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"onChange\", \"onClose\", \"onMore\", \"onOpen\", \"open\", \"options\", \"placeholder\", \"plain\", \"selected\", \"size\", \"theme\", \"value\", \"valueLabel\"]);\n\n  var inputRef = useRef();\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    setOpen(propOpen);\n  }, [propOpen]);\n\n  var onRequestOpen = function onRequestOpen() {\n    setOpen(true);\n\n    if (onOpen) {\n      onOpen();\n    }\n  };\n\n  var onRequestClose = function onRequestClose() {\n    setOpen(false);\n\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  var onSelectChange = function onSelectChange(event) {\n    if (closeOnChange) {\n      onRequestClose();\n    }\n\n    if (onChange) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      onChange.apply(void 0, [_extends({}, event, {\n        target: inputRef.current\n      })].concat(args));\n    }\n  };\n\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  }\n\n  var selectValue;\n  var inputValue = '';\n\n  if (valueLabel) {\n    selectValue = valueLabel;\n  } else if (Array.isArray(value)) {\n    if (value.length > 1) {\n      if (React.isValidElement(value[0])) {\n        selectValue = value;\n      } else {\n        inputValue = messages.multiple;\n      }\n    } else if (value.length === 1) {\n      if (React.isValidElement(value[0])) {\n        selectValue = value[0];\n      } else if (labelKey && typeof value[0] === 'object') {\n        if (typeof labelKey === 'function') {\n          inputValue = labelKey(value[0]);\n        } else {\n          inputValue = value[0][labelKey];\n        }\n      } else {\n        inputValue = value[0];\n      }\n    } else {\n      inputValue = '';\n    }\n  } else if (labelKey && typeof value === 'object') {\n    if (typeof labelKey === 'function') {\n      inputValue = labelKey(value);\n    } else {\n      inputValue = value[labelKey];\n    }\n  } else if (React.isValidElement(value)) {\n    selectValue = value; // deprecated in favor of valueLabel\n  } else if (selected !== undefined) {\n    if (Array.isArray(selected)) {\n      if (selected.length > 1) {\n        inputValue = messages.multiple;\n      } else if (selected.length === 1) {\n        inputValue = options[selected[0]];\n      }\n    } else {\n      inputValue = options[selected];\n    }\n  } else {\n    inputValue = value;\n  } // const dark = theme.select.background\n  // ? colorIsDark(theme.select.background)\n  // : theme.dark;\n\n\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  delete rest.onSearch;\n  return React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, React.createElement(StyledSelectDropButton, {\n    ref: forwardRef,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    dropContent: React.createElement(SelectContainer, _extends({}, props, {\n      onChange: onSelectChange,\n      onMore: onMore\n    })),\n    plain: plain,\n    dropProps: _extends({}, dropProps)\n  }, React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (typeof value === 'string' ? \", \" + value : ''),\n    id: id ? id + \"__input\" : undefined,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    onClick: disabled === true ? undefined : onRequestOpen\n  }))), SelectIcon && React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, isValidElement(SelectIcon) ? SelectIcon : React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n};\n\nSelect.defaultProps = _extends({\n  closeOnChange: true,\n  dropAlign: {\n    top: 'bottom',\n    left: 'left'\n  },\n  messages: {\n    multiple: 'multiple'\n  }\n}, defaultProps);\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = compose(withTheme, withForwardRef)(SelectDoc || Select);\nexport { SelectWrapper as Select };","map":{"version":3,"sources":["C:/Users/ruxan/OneDrive/Desktop/UPM/Website/go_bananas/node_modules/grommet/es6/components/Select/Select.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","isValidElement","useState","useRef","useEffect","compose","styled","withTheme","controlBorderStyle","normalizeColor","defaultProps","Box","DropButton","Keyboard","TextInput","withForwardRef","SelectContainer","SelectTextInput","withConfig","displayName","componentId","StyledSelectDropButton","props","plain","theme","select","control","extend","open","setPrototypeOf","Select","a11yTitle","alignSelf","children","closeOnChange","disabled","dropAlign","dropProps","dropTarget","forwardRef","gridArea","id","icon","labelKey","margin","messages","onChange","onClose","onMore","onOpen","propOpen","options","placeholder","selected","size","value","valueLabel","rest","inputRef","_useState","setOpen","onRequestOpen","onRequestClose","onSelectChange","event","_len","args","Array","_key","current","concat","SelectIcon","undefined","icons","down","selectValue","inputValue","isArray","multiple","iconColor","color","onSearch","createElement","onDown","onUp","ref","dropContent","align","direction","justify","background","flex","basis","tabIndex","type","readOnly","onClick","style","minWidth","top","left","SelectDoc","process","env","NODE_ENV","require","doc","SelectWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { isValidElement, useState, useRef, useEffect } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { controlBorderStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { TextInput } from '../TextInput';\nimport { withForwardRef } from '../hocs';\nimport { SelectContainer } from './SelectContainer';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:pointer;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-1\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.plain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\n\nvar Select = function Select(props) {\n  var a11yTitle = props.a11yTitle,\n      alignSelf = props.alignSelf,\n      children = props.children,\n      closeOnChange = props.closeOnChange,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      forwardRef = props.forwardRef,\n      gridArea = props.gridArea,\n      id = props.id,\n      icon = props.icon,\n      labelKey = props.labelKey,\n      margin = props.margin,\n      messages = props.messages,\n      onChange = props.onChange,\n      onClose = props.onClose,\n      onMore = props.onMore,\n      onOpen = props.onOpen,\n      propOpen = props.open,\n      options = props.options,\n      placeholder = props.placeholder,\n      plain = props.plain,\n      selected = props.selected,\n      size = props.size,\n      theme = props.theme,\n      value = props.value,\n      valueLabel = props.valueLabel,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"alignSelf\", \"children\", \"closeOnChange\", \"disabled\", \"dropAlign\", \"dropProps\", \"dropTarget\", \"forwardRef\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"onChange\", \"onClose\", \"onMore\", \"onOpen\", \"open\", \"options\", \"placeholder\", \"plain\", \"selected\", \"size\", \"theme\", \"value\", \"valueLabel\"]);\n\n  var inputRef = useRef();\n\n  var _useState = useState(propOpen),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    setOpen(propOpen);\n  }, [propOpen]);\n\n  var onRequestOpen = function onRequestOpen() {\n    setOpen(true);\n\n    if (onOpen) {\n      onOpen();\n    }\n  };\n\n  var onRequestClose = function onRequestClose() {\n    setOpen(false);\n\n    if (onClose) {\n      onClose();\n    }\n  };\n\n  var onSelectChange = function onSelectChange(event) {\n    if (closeOnChange) {\n      onRequestClose();\n    }\n\n    if (onChange) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      onChange.apply(void 0, [_extends({}, event, {\n        target: inputRef.current\n      })].concat(args));\n    }\n  };\n\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  }\n\n  var selectValue;\n  var inputValue = '';\n\n  if (valueLabel) {\n    selectValue = valueLabel;\n  } else if (Array.isArray(value)) {\n    if (value.length > 1) {\n      if (React.isValidElement(value[0])) {\n        selectValue = value;\n      } else {\n        inputValue = messages.multiple;\n      }\n    } else if (value.length === 1) {\n      if (React.isValidElement(value[0])) {\n        selectValue = value[0];\n      } else if (labelKey && typeof value[0] === 'object') {\n        if (typeof labelKey === 'function') {\n          inputValue = labelKey(value[0]);\n        } else {\n          inputValue = value[0][labelKey];\n        }\n      } else {\n        inputValue = value[0];\n      }\n    } else {\n      inputValue = '';\n    }\n  } else if (labelKey && typeof value === 'object') {\n    if (typeof labelKey === 'function') {\n      inputValue = labelKey(value);\n    } else {\n      inputValue = value[labelKey];\n    }\n  } else if (React.isValidElement(value)) {\n    selectValue = value; // deprecated in favor of valueLabel\n  } else if (selected !== undefined) {\n    if (Array.isArray(selected)) {\n      if (selected.length > 1) {\n        inputValue = messages.multiple;\n      } else if (selected.length === 1) {\n        inputValue = options[selected[0]];\n      }\n    } else {\n      inputValue = options[selected];\n    }\n  } else {\n    inputValue = value;\n  } // const dark = theme.select.background\n  // ? colorIsDark(theme.select.background)\n  // : theme.dark;\n\n\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  delete rest.onSearch;\n  return React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, React.createElement(StyledSelectDropButton, {\n    ref: forwardRef,\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    dropContent: React.createElement(SelectContainer, _extends({}, props, {\n      onChange: onSelectChange,\n      onMore: onMore\n    })),\n    plain: plain,\n    dropProps: _extends({}, dropProps)\n  }, React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || React.createElement(SelectTextInput, _extends({\n    a11yTitle: a11yTitle && \"\" + a11yTitle + (typeof value === 'string' ? \", \" + value : ''),\n    id: id ? id + \"__input\" : undefined,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    onClick: disabled === true ? undefined : onRequestOpen\n  }))), SelectIcon && React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, isValidElement(SelectIcon) ? SelectIcon : React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n};\n\nSelect.defaultProps = _extends({\n  closeOnChange: true,\n  dropAlign: {\n    top: 'bottom',\n    left: 'left'\n  },\n  messages: {\n    multiple: 'multiple'\n  }\n}, defaultProps);\nvar SelectDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  SelectDoc = require('./doc').doc(Select);\n}\n\nvar SelectWrapper = compose(withTheme, withForwardRef)(SelectDoc || Select);\nexport { SelectWrapper as Select };"]},"metadata":{},"sourceType":"module"}