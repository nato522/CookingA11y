{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { ThemeContext } from '../../contexts';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { Keyboard } from '../Keyboard';\nimport { withFocus, withForwardRef } from '../hocs';\nimport { StyledMaskedInput, StyledMaskedInputContainer } from './StyledMaskedInput';\n\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n\n  var valueIndex = 0;\n  var maskIndex = 0;\n\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n\n    if (item.fixed) {\n      var length = item.fixed.length;\n      valueParts.push({\n        part: item.fixed,\n        beginIndex: valueIndex,\n        endIndex: valueIndex + length - 1\n      });\n      var part = value.slice(valueIndex, valueIndex + length);\n\n      if (part === item.fixed) {\n        valueIndex += length;\n      }\n\n      maskIndex += 1;\n      found = true;\n    } else if (item.options) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n\n          _length -= 1;\n        }\n\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n\n  return valueParts;\n};\n\nvar MaskedInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MaskedInput, _Component);\n\n  function MaskedInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"dropRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"locateCaret\", function () {\n      // leave time for caret to be placed after receiving focus\n      clearTimeout(_this.caretTimeout);\n      _this.caretTimeout = setTimeout(function () {\n        var mask = _this.props.mask;\n        var _this$state = _this.state,\n            activeMaskIndex = _this$state.activeMaskIndex,\n            valueParts = _this$state.valueParts;\n\n        if (_this.inputRef.current) {\n          // determine which mask element the caret is at\n          var caretIndex = _this.inputRef.current.selectionStart;\n          var maskIndex;\n          valueParts.some(function (part, index) {\n            if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n              maskIndex = index;\n              return true;\n            }\n\n            return false;\n          });\n\n          if (maskIndex === undefined && valueParts.length < mask.length) {\n            maskIndex = valueParts.length; // first unused one\n          }\n\n          if (maskIndex && mask[maskIndex].fixed) {\n            maskIndex -= 1; // fixed mask parts are never \"active\"\n          }\n\n          if (maskIndex !== activeMaskIndex) {\n            // eslint-disable-next-line react/no-did-update-set-state\n            _this.setState({\n              activeMaskIndex: maskIndex,\n              activeOptionIndex: -1,\n              showDrop: maskIndex >= 0 && mask[maskIndex].options && true\n            });\n          }\n        }\n      }, 10); // 10ms empirically chosen\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var onFocus = _this.props.onFocus;\n\n      _this.locateCaret();\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      // delay so we don't remove the drop before Button events can be processed\n      var onBlur = _this.props.onBlur;\n      clearTimeout(_this.blurTimeout);\n      _this.blurTimeout = setTimeout(function () {\n        var showDrop = _this.state.showDrop;\n\n        if (showDrop && _this.dropRef.current && document.activeElement !== _this.inputRef.current && !_this.dropRef.current.parentNode.contains(document.activeElement)) {\n          _this.setState({\n            activeMaskIndex: undefined,\n            showDrop: false\n          });\n        }\n      }, 10); // 10ms empirically chosen\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setValue\", function (nextValue) {\n      // Calling set value function directly on input because React library\n      // overrides setter `event.target.value =` and loses original event\n      // target fidelity.\n      // https://stackoverflow.com/a/46012210 &&\n      // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n      var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n      nativeInputValueSetter.call(_this.inputRef.current, nextValue);\n      var event = new Event('input', {\n        bubbles: true\n      });\n\n      _this.inputRef.current.dispatchEvent(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          mask = _this$props.mask;\n      var value = event.target.value; // Align with the mask.\n\n      var valueParts = parseValue(mask, value);\n      var nextValue = valueParts.map(function (part) {\n        return part.part;\n      }).join('');\n\n      if (value === nextValue) {\n        if (onChange) {\n          onChange(event);\n        }\n      } else {\n        _this.setValue(nextValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOption\", function (option) {\n      return function () {\n        var mask = _this.props.mask;\n        var _this$state2 = _this.state,\n            activeMaskIndex = _this$state2.activeMaskIndex,\n            valueParts = _this$state2.valueParts;\n        var nextValueParts = [].concat(valueParts);\n        nextValueParts[activeMaskIndex] = {\n          part: option\n        }; // add any fixed parts that follow\n\n        var index = activeMaskIndex + 1;\n\n        while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n          nextValueParts[index] = {\n            part: mask[index].fixed\n          };\n          index += 1;\n        }\n\n        var nextValue = nextValueParts.map(function (part) {\n          return part.part;\n        }).join('');\n\n        _this.setValue(nextValue); // restore focus to input\n\n\n        _this.inputRef.current.focus();\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNextOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state3 = _this.state,\n          activeMaskIndex = _this$state3.activeMaskIndex,\n          activeOptionIndex = _this$state3.activeOptionIndex;\n      var item = mask[activeMaskIndex];\n\n      if (item && item.options) {\n        event.preventDefault();\n        var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n\n        _this.setState({\n          activeOptionIndex: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPreviousOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state4 = _this.state,\n          activeMaskIndex = _this$state4.activeMaskIndex,\n          activeOptionIndex = _this$state4.activeOptionIndex;\n\n      if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n        event.preventDefault();\n        var index = Math.max(activeOptionIndex - 1, 0);\n\n        _this.setState({\n          activeOptionIndex: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state5 = _this.state,\n          activeMaskIndex = _this$state5.activeMaskIndex,\n          activeOptionIndex = _this$state5.activeOptionIndex;\n\n      if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n        event.preventDefault();\n        var option = mask[activeMaskIndex].options[activeOptionIndex];\n\n        _this.onOption(option)();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var showDrop = _this.state.showDrop;\n\n      if (showDrop) {\n        // we have to stop both synthetic events and native events\n        // drop and layer should not close by pressing esc on this input\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          showDrop: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlaceholder\", function () {\n      var mask = _this.props.mask;\n      return mask.map(function (item) {\n        return item.placeholder || item.fixed;\n      }).join('');\n    });\n\n    return _this;\n  }\n\n  MaskedInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var mask = nextProps.mask,\n        value = nextProps.value;\n    var priorMask = prevState.priorMask,\n        priorValue = prevState.priorValue;\n\n    if (priorMask !== mask || priorValue !== value) {\n      var valueParts = parseValue(mask, value);\n      return {\n        priorMask: mask,\n        priorValue: value,\n        valueParts: valueParts\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = MaskedInput.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var focus = this.props.focus;\n\n    if (focus) {\n      this.locateCaret();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.caretTimeout);\n    clearTimeout(this.blurTimeout);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        defaultValue = _this$props2.defaultValue,\n        forwardRef = _this$props2.forwardRef,\n        id = _this$props2.id,\n        placeholder = _this$props2.placeholder,\n        plain = _this$props2.plain,\n        mask = _this$props2.mask,\n        value = _this$props2.value,\n        onChange = _this$props2.onChange,\n        onKeyDown = _this$props2.onKeyDown,\n        propsTheme = _this$props2.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"defaultValue\", \"forwardRef\", \"id\", \"placeholder\", \"plain\", \"mask\", \"value\", \"onChange\", \"onKeyDown\", \"theme\"]);\n\n    var theme = this.context || propsTheme;\n    var _this$state6 = this.state,\n        activeMaskIndex = _this$state6.activeMaskIndex,\n        activeOptionIndex = _this$state6.activeOptionIndex,\n        showDrop = _this$state6.showDrop;\n    return React.createElement(StyledMaskedInputContainer, {\n      plain: plain\n    }, React.createElement(Keyboard, {\n      onEsc: this.onEsc,\n      onTab: this.onTab,\n      onLeft: this.locateCaret,\n      onRight: this.locateCaret,\n      onUp: this.onPreviousOption,\n      onDown: this.onNextOption,\n      onEnter: this.onSelectOption,\n      onKeyDown: onKeyDown\n    }, React.createElement(StyledMaskedInput, _extends({\n      id: id,\n      ref: function ref(node) {\n        _this2.inputRef.current = node;\n\n        if (forwardRef) {\n          if (typeof forwardRef === 'object') {\n            forwardRef.current = node;\n          } else {\n            forwardRef(node);\n          }\n        }\n      },\n      autoComplete: \"off\",\n      plain: plain,\n      placeholder: placeholder || this.renderPlaceholder()\n    }, rest, {\n      defaultValue: defaultValue,\n      value: value,\n      theme: theme,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onChange: this.onChange\n    }))), showDrop && React.createElement(Drop, {\n      id: id ? \"masked-input-drop__\" + id : undefined,\n      align: {\n        top: 'bottom',\n        left: 'left'\n      },\n      responsive: false,\n      target: this.inputRef.current\n    }, React.createElement(Box, {\n      ref: this.dropRef\n    }, mask[activeMaskIndex].options.map(function (option, index) {\n      return React.createElement(Box, {\n        key: option,\n        flex: false\n      }, React.createElement(Button, {\n        tabIndex: \"-1\",\n        onClick: _this2.onOption(option),\n        onMouseOver: function onMouseOver() {\n          return _this2.setState({\n            activeOptionIndex: index\n          });\n        },\n        onFocus: function onFocus() {},\n        active: index === activeOptionIndex,\n        hoverIndicator: \"background\"\n      }, React.createElement(Box, {\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        }\n      }, option)));\n    }))));\n  };\n\n  return MaskedInput;\n}(Component);\n\n_defineProperty(MaskedInput, \"contextType\", ThemeContext);\n\n_defineProperty(MaskedInput, \"defaultProps\", {\n  mask: []\n});\n\nObject.setPrototypeOf(MaskedInput.defaultProps, defaultProps);\nvar MaskedInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  MaskedInputDoc = require('./doc').doc(MaskedInput);\n}\n\nvar MaskedInputWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withForwardRef)(MaskedInputDoc || MaskedInput);\nexport { MaskedInputWrapper as MaskedInput };","map":{"version":3,"sources":["C:/Users/ruxan/OneDrive/Desktop/UPM/Website/go_bananas/node_modules/grommet/es6/components/MaskedInput/MaskedInput.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","Component","compose","ThemeContext","defaultProps","Box","Button","Drop","Keyboard","withFocus","withForwardRef","StyledMaskedInput","StyledMaskedInputContainer","parseValue","mask","valueParts","valueIndex","maskIndex","undefined","item","found","fixed","push","part","beginIndex","endIndex","slice","options","reverse","some","option","regexp","minLength","Array","isArray","maxLength","_length","_part","test","_length2","_part2","MaskedInput","_Component","_this","_len","args","_key","concat","createRef","clearTimeout","caretTimeout","setTimeout","props","_this$state","state","activeMaskIndex","inputRef","current","caretIndex","selectionStart","index","setState","activeOptionIndex","showDrop","event","onFocus","locateCaret","onBlur","blurTimeout","dropRef","document","activeElement","parentNode","contains","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","set","Event","bubbles","dispatchEvent","_this$props","onChange","map","join","setValue","_this$state2","nextValueParts","focus","_this$state3","preventDefault","Math","min","_this$state4","max","_this$state5","onOption","stopPropagation","nativeEvent","stopImmediatePropagation","placeholder","getDerivedStateFromProps","nextProps","prevState","priorMask","priorValue","_proto","componentDidUpdate","componentWillUnmount","render","_this2","_this$props2","defaultValue","forwardRef","id","plain","onKeyDown","propsTheme","theme","rest","context","_this$state6","createElement","onEsc","onTab","onLeft","onRight","onUp","onPreviousOption","onDown","onNextOption","onEnter","onSelectOption","ref","node","autoComplete","renderPlaceholder","align","top","left","responsive","flex","tabIndex","onClick","onMouseOver","active","hoverIndicator","pad","horizontal","vertical","setPrototypeOf","MaskedInputDoc","process","env","NODE_ENV","require","doc","MaskedInputWrapper","focusWithMouse"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { compose } from 'recompose';\nimport { ThemeContext } from '../../contexts';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { Keyboard } from '../Keyboard';\nimport { withFocus, withForwardRef } from '../hocs';\nimport { StyledMaskedInput, StyledMaskedInputContainer } from './StyledMaskedInput';\n\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n\n  var valueIndex = 0;\n  var maskIndex = 0;\n\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n\n    if (item.fixed) {\n      var length = item.fixed.length;\n      valueParts.push({\n        part: item.fixed,\n        beginIndex: valueIndex,\n        endIndex: valueIndex + length - 1\n      });\n      var part = value.slice(valueIndex, valueIndex + length);\n\n      if (part === item.fixed) {\n        valueIndex += length;\n      }\n\n      maskIndex += 1;\n      found = true;\n    } else if (item.options) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n\n          _length -= 1;\n        }\n\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n\n  return valueParts;\n};\n\nvar MaskedInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MaskedInput, _Component);\n\n  function MaskedInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"dropRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"locateCaret\", function () {\n      // leave time for caret to be placed after receiving focus\n      clearTimeout(_this.caretTimeout);\n      _this.caretTimeout = setTimeout(function () {\n        var mask = _this.props.mask;\n        var _this$state = _this.state,\n            activeMaskIndex = _this$state.activeMaskIndex,\n            valueParts = _this$state.valueParts;\n\n        if (_this.inputRef.current) {\n          // determine which mask element the caret is at\n          var caretIndex = _this.inputRef.current.selectionStart;\n          var maskIndex;\n          valueParts.some(function (part, index) {\n            if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n              maskIndex = index;\n              return true;\n            }\n\n            return false;\n          });\n\n          if (maskIndex === undefined && valueParts.length < mask.length) {\n            maskIndex = valueParts.length; // first unused one\n          }\n\n          if (maskIndex && mask[maskIndex].fixed) {\n            maskIndex -= 1; // fixed mask parts are never \"active\"\n          }\n\n          if (maskIndex !== activeMaskIndex) {\n            // eslint-disable-next-line react/no-did-update-set-state\n            _this.setState({\n              activeMaskIndex: maskIndex,\n              activeOptionIndex: -1,\n              showDrop: maskIndex >= 0 && mask[maskIndex].options && true\n            });\n          }\n        }\n      }, 10); // 10ms empirically chosen\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var onFocus = _this.props.onFocus;\n\n      _this.locateCaret();\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      // delay so we don't remove the drop before Button events can be processed\n      var onBlur = _this.props.onBlur;\n      clearTimeout(_this.blurTimeout);\n      _this.blurTimeout = setTimeout(function () {\n        var showDrop = _this.state.showDrop;\n\n        if (showDrop && _this.dropRef.current && document.activeElement !== _this.inputRef.current && !_this.dropRef.current.parentNode.contains(document.activeElement)) {\n          _this.setState({\n            activeMaskIndex: undefined,\n            showDrop: false\n          });\n        }\n      }, 10); // 10ms empirically chosen\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setValue\", function (nextValue) {\n      // Calling set value function directly on input because React library\n      // overrides setter `event.target.value =` and loses original event\n      // target fidelity.\n      // https://stackoverflow.com/a/46012210 &&\n      // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n      var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n      nativeInputValueSetter.call(_this.inputRef.current, nextValue);\n      var event = new Event('input', {\n        bubbles: true\n      });\n\n      _this.inputRef.current.dispatchEvent(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          mask = _this$props.mask;\n      var value = event.target.value; // Align with the mask.\n\n      var valueParts = parseValue(mask, value);\n      var nextValue = valueParts.map(function (part) {\n        return part.part;\n      }).join('');\n\n      if (value === nextValue) {\n        if (onChange) {\n          onChange(event);\n        }\n      } else {\n        _this.setValue(nextValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOption\", function (option) {\n      return function () {\n        var mask = _this.props.mask;\n        var _this$state2 = _this.state,\n            activeMaskIndex = _this$state2.activeMaskIndex,\n            valueParts = _this$state2.valueParts;\n        var nextValueParts = [].concat(valueParts);\n        nextValueParts[activeMaskIndex] = {\n          part: option\n        }; // add any fixed parts that follow\n\n        var index = activeMaskIndex + 1;\n\n        while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n          nextValueParts[index] = {\n            part: mask[index].fixed\n          };\n          index += 1;\n        }\n\n        var nextValue = nextValueParts.map(function (part) {\n          return part.part;\n        }).join('');\n\n        _this.setValue(nextValue); // restore focus to input\n\n\n        _this.inputRef.current.focus();\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNextOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state3 = _this.state,\n          activeMaskIndex = _this$state3.activeMaskIndex,\n          activeOptionIndex = _this$state3.activeOptionIndex;\n      var item = mask[activeMaskIndex];\n\n      if (item && item.options) {\n        event.preventDefault();\n        var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n\n        _this.setState({\n          activeOptionIndex: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPreviousOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state4 = _this.state,\n          activeMaskIndex = _this$state4.activeMaskIndex,\n          activeOptionIndex = _this$state4.activeOptionIndex;\n\n      if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n        event.preventDefault();\n        var index = Math.max(activeOptionIndex - 1, 0);\n\n        _this.setState({\n          activeOptionIndex: index\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectOption\", function (event) {\n      var mask = _this.props.mask;\n      var _this$state5 = _this.state,\n          activeMaskIndex = _this$state5.activeMaskIndex,\n          activeOptionIndex = _this$state5.activeOptionIndex;\n\n      if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n        event.preventDefault();\n        var option = mask[activeMaskIndex].options[activeOptionIndex];\n\n        _this.onOption(option)();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var showDrop = _this.state.showDrop;\n\n      if (showDrop) {\n        // we have to stop both synthetic events and native events\n        // drop and layer should not close by pressing esc on this input\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          showDrop: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlaceholder\", function () {\n      var mask = _this.props.mask;\n      return mask.map(function (item) {\n        return item.placeholder || item.fixed;\n      }).join('');\n    });\n\n    return _this;\n  }\n\n  MaskedInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var mask = nextProps.mask,\n        value = nextProps.value;\n    var priorMask = prevState.priorMask,\n        priorValue = prevState.priorValue;\n\n    if (priorMask !== mask || priorValue !== value) {\n      var valueParts = parseValue(mask, value);\n      return {\n        priorMask: mask,\n        priorValue: value,\n        valueParts: valueParts\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = MaskedInput.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var focus = this.props.focus;\n\n    if (focus) {\n      this.locateCaret();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.caretTimeout);\n    clearTimeout(this.blurTimeout);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        defaultValue = _this$props2.defaultValue,\n        forwardRef = _this$props2.forwardRef,\n        id = _this$props2.id,\n        placeholder = _this$props2.placeholder,\n        plain = _this$props2.plain,\n        mask = _this$props2.mask,\n        value = _this$props2.value,\n        onChange = _this$props2.onChange,\n        onKeyDown = _this$props2.onKeyDown,\n        propsTheme = _this$props2.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"defaultValue\", \"forwardRef\", \"id\", \"placeholder\", \"plain\", \"mask\", \"value\", \"onChange\", \"onKeyDown\", \"theme\"]);\n\n    var theme = this.context || propsTheme;\n    var _this$state6 = this.state,\n        activeMaskIndex = _this$state6.activeMaskIndex,\n        activeOptionIndex = _this$state6.activeOptionIndex,\n        showDrop = _this$state6.showDrop;\n    return React.createElement(StyledMaskedInputContainer, {\n      plain: plain\n    }, React.createElement(Keyboard, {\n      onEsc: this.onEsc,\n      onTab: this.onTab,\n      onLeft: this.locateCaret,\n      onRight: this.locateCaret,\n      onUp: this.onPreviousOption,\n      onDown: this.onNextOption,\n      onEnter: this.onSelectOption,\n      onKeyDown: onKeyDown\n    }, React.createElement(StyledMaskedInput, _extends({\n      id: id,\n      ref: function ref(node) {\n        _this2.inputRef.current = node;\n\n        if (forwardRef) {\n          if (typeof forwardRef === 'object') {\n            forwardRef.current = node;\n          } else {\n            forwardRef(node);\n          }\n        }\n      },\n      autoComplete: \"off\",\n      plain: plain,\n      placeholder: placeholder || this.renderPlaceholder()\n    }, rest, {\n      defaultValue: defaultValue,\n      value: value,\n      theme: theme,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onChange: this.onChange\n    }))), showDrop && React.createElement(Drop, {\n      id: id ? \"masked-input-drop__\" + id : undefined,\n      align: {\n        top: 'bottom',\n        left: 'left'\n      },\n      responsive: false,\n      target: this.inputRef.current\n    }, React.createElement(Box, {\n      ref: this.dropRef\n    }, mask[activeMaskIndex].options.map(function (option, index) {\n      return React.createElement(Box, {\n        key: option,\n        flex: false\n      }, React.createElement(Button, {\n        tabIndex: \"-1\",\n        onClick: _this2.onOption(option),\n        onMouseOver: function onMouseOver() {\n          return _this2.setState({\n            activeOptionIndex: index\n          });\n        },\n        onFocus: function onFocus() {},\n        active: index === activeOptionIndex,\n        hoverIndicator: \"background\"\n      }, React.createElement(Box, {\n        pad: {\n          horizontal: 'small',\n          vertical: 'xsmall'\n        }\n      }, option)));\n    }))));\n  };\n\n  return MaskedInput;\n}(Component);\n\n_defineProperty(MaskedInput, \"contextType\", ThemeContext);\n\n_defineProperty(MaskedInput, \"defaultProps\", {\n  mask: []\n});\n\nObject.setPrototypeOf(MaskedInput.defaultProps, defaultProps);\nvar MaskedInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  MaskedInputDoc = require('./doc').doc(MaskedInput);\n}\n\nvar MaskedInputWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withForwardRef)(MaskedInputDoc || MaskedInput);\nexport { MaskedInputWrapper as MaskedInput };"]},"metadata":{},"sourceType":"module"}